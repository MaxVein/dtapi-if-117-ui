<mat-toolbar color="primary" class="student-toolbar">
    <p><span>DT-API</span></p>
    <p>
        <button mat-button [matMenuTriggerFor]="menu">
            {{ studentSurname }} {{ studentName }}
        </button>
        <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="logOut()">Вийти</button>
        </mat-menu>
        <button mat-button [matMenuTriggerFor]="lang">Мова</button>
        <mat-menu #lang="matMenu">
            <button mat-menu-item>ENG</button>
            <button mat-menu-item>UKR</button>
        </mat-menu>
    </p>
</mat-toolbar>

<div class="student-container">
    <div class="student-info">
        <p class="student-info-title"><strong>Профіль студента</strong></p>
        <mat-card>
            <img
                mat-card-lg-image
                src="{{ photo }}"
                alt="{{ studentSurname }} {{ studentName }}"
            />
            <mat-card-content
                ><strong>
                    {{ studentSurname }} {{ studentName }}
                    {{ studentFname }}</strong
                ></mat-card-content
            >
            <p><strong>Факультет:</strong> {{ facultyName }}</p>
            <p>
                <strong>Спеціальність:</strong> {{ specialityCode }}
                {{ specialityName }}
            </p>
            <p><strong>Група:</strong> {{ groupName }}</p>
            <p><strong>Номер залікової:</strong> {{ gradebookId }}</p>
        </mat-card>
    </div>
    <div class="student-test-timeTable">
        <p class="student-test-title"><strong>Розклад тестування</strong></p>
        <p class="student-test-options">
            <label for="subjects">Оберіть будь ласка предмет</label>
            <select
                name="subjects"
                id=""
                (change)="selectSubject($event)"
                class="student-select"
            >
                <option
                    *ngFor="let subject of subjects"
                    id="{{ subject.subject_id }}"
                    value="{{ subject.subject_name }}"
                >
                    {{ subject.subject_name }}
                </option>
            </select>
        </p>
        <div class="mat-elevation-z8 student-table-test">
            <table
                mat-table
                [dataSource]="dataSource"
                class="student-table mat-elevation-z8"
            >
                <ng-container matColumnDef="Предмет">
                    <th mat-header-cell *matHeaderCellDef>Предмет</th>
                    <td mat-cell *matCellDef="let test">
                        {{ test.subjectname }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="Тест">
                    <th mat-header-cell *matHeaderCellDef>Тест</th>
                    <td mat-cell *matCellDef="let test">
                        {{ test.test_name }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="Початок">
                    <th mat-header-cell *matHeaderCellDef>Початок</th>
                    <td mat-cell *matCellDef="let test">
                        <span>{{ test.start_date }}</span> <br />
                        {{ test.start_time }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="Кінець">
                    <th mat-header-cell *matHeaderCellDef>Кінець</th>
                    <td mat-cell *matCellDef="let test">
                        <span> {{ test.end_date }}</span
                        ><br />
                        {{ test.end_time }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="Кількість завдань">
                    <th mat-header-cell *matHeaderCellDef>Кількість завдань</th>
                    <td mat-cell *matCellDef="let test">{{ test.tasks }}</td>
                </ng-container>
                <ng-container matColumnDef="Тривалість тесту">
                    <th mat-header-cell *matHeaderCellDef>Тривалість тесту</th>
                    <td mat-cell *matCellDef="let test">
                        {{ test.time_for_test }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="Кількість спроб">
                    <th mat-header-cell *matHeaderCellDef>Кількість спроб</th>
                    <td mat-cell *matCellDef="let test">{{ test.attempts }}</td>
                </ng-container>
                <ng-container matColumnDef="Почати тестування">
                    <th mat-header-cell *matHeaderCellDef>Почати тестування</th>
                    <td mat-cell *matCellDef="let test">
                        <span
                            (click)="checkTest($event)"
                            id="{{ test.test_id }}"
                            class="test-icon material-icons"
                        >
                            not_started
                        </span>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr
                    mat-row
                    *matRowDef="let row; columns: displayedColumns"
                ></tr>
            </table>
            <mat-paginator
                [pageSizeOptions]="[5, 10, 20]"
                showFirstLastButtons
            ></mat-paginator>
        </div>
    </div>
</div>

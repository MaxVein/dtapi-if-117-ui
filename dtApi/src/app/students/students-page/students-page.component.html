<section class="students">
  <div class="container">
    <div class="students__breadcrumb">
      <span class="active">Dashboard</span>
      <mat-icon>keyboard_arrow_right</mat-icon>
      <span class="active">Groups</span>
      <mat-icon>keyboard_arrow_right</mat-icon>
      <span>Students</span>
    </div>
    <div class="students__header">
      <h1>Students</h1>
      <button mat-flat-button color="primary" (click)="add()">
        <mat-icon>add</mat-icon>
        New student</button>
    </div>
    <div class="students__table" *ngIf="!loading; else loader">
      <div class="table-wrapper" *ngIf="dataSource.data.length > 0; else empty">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

          <ng-container matColumnDef="index">
            <th mat-header-cell *matHeaderCellDef> â„– </th>
            <td mat-cell *matCellDef="let student; let idx = index"> {{idx + 1}} </td>
          </ng-container>

          <ng-container matColumnDef="gradebookID">
            <th mat-header-cell *matHeaderCellDef> Gradebook ID </th>
            <td mat-cell *matCellDef="let student"> {{student.gradebook_id}} </td>
          </ng-container>

          <ng-container matColumnDef="studentInfo">
            <th mat-header-cell *matHeaderCellDef> Student </th>
            <td mat-cell *matCellDef="let student"> {{student.student_surname}} {{student.student_name}} {{student.student_fname}} </td>
          </ng-container>

          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef> Actions </th>
            <td mat-cell *matCellDef="let student">
              <mat-icon matTooltip="View student info">assignment_ind</mat-icon>
              <mat-icon matTooltip="Edit student info" (click)="edit(student)">edit</mat-icon>
              <mat-icon matTooltip="Transfer to another group">compare_arrows</mat-icon>
              <mat-icon matTooltip="Delete student info" (click)="remove(student.user_id)">delete</mat-icon>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

      </div>

      <ng-template #empty>
        <div class="empty-data">
          <h1>There are no students
            <br>Add new student</h1>
        </div>
      </ng-template>
    </div>
    <ng-template #loader>
      <app-loader></app-loader>
    </ng-template>
    <mat-paginator [class.hide]="loading" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </div>
</section>
